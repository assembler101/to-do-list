#:kivy 1.11.1

<AppLabel>:
	color: 0, 0, 0, 1
	background_color: 0, 1, 0, 1

<TaskBG>:
	before: True
	Line:
		width: 2
		rectangle: self.x, self.y, self.width, self.height

<BtnBehaviorLabel@ButtonBehavior+Label>:
	color: 0, 0, 0, 1

<DisplayTasks>:
	canvas.before:
		Color:
			rgba: 1, 1, 1, 1
		Rectangle:
			pos: self.pos
			size: self.size
	AppLabel:
		text: 'Tasks'
		color: 0, 0, 0, 1
		pos_hint: {'y': .45}
	BoxLayout:
		orientation: 'vertical'

		AnchorLayout:
			anchor_x: 'right'
			anchor_y: 'top'
			size_hint: 1, .1
			padding: 0, 10, 10, 0

			BtnBehaviorLabel:
				size: self.texture_size
				size_hint: None, None
				text: 'New Task'
				on_press: root.manager.current = 'create_task'

		BoxLayout:
			id: tasks
			orientation: 'vertical'

<CreateTask>:
	canvas.before:
		Color:
			rgba: 1, 1, 1, 1
		Rectangle:
			pos: self.pos
			size: self.size
	AppLabel:
		text: 'Create Task'
		pos_hint: {'y': .45}
	BoxLayout:
		orientation: 'vertical'

		AnchorLayout:
			anchor_x: 'left'
			anchor_y: 'top'
			padding: 10, 10, 0, 0
			size_hint: 1, .05

			BtnBehaviorLabel:
				size: self.texture_size
				size_hint: None, None
				text: 'Cancel'
				on_press: root.manager.current = 'tasks_display'
		BoxLayout:
			orientation: 'horizontal'
			padding: 10, 0, 10, 0
			size_hint_y: .5

			BoxLayout:
				orientation: 'vertical'
				spacing: 10

				BoxLayout:
					orientation: 'vertical'
					size_hint_y: .25

					AppLabel:
						text: 'Title'
						size: self.texture_size
						size_hint: None, None
					TextInput:
						id: title
						hint_text: 'Required'
						multiline: False
						size_hint: .6, .1
				BoxLayout:
					orientation: 'vertical'
					size_hint_y: .4

					AppLabel:
						text: 'Body'
						size: self.texture_size
						size_hint: None, None
					TextInput:
						id: body
						hint_text: 'Not Required'
						size_hint: .7, .3
				BoxLayout:
					orientation: 'horizontal'

					GridLayout:
						rows: 3
						cols: 2
						spacing: 3

						Button:
							text: '+5 minutes'
						Button:
							text: '+10 minutes'
						Button:
							text: '+1 Hour'
						Button:
							text: '+1 Day'
						Button:
							text: '+1 Week'
						Image:
							source: 'img/restart.png'
					BoxLayout:
						orientation: 'vertical'

						AppLabel:
							text: 'Days:Hours:Minutes'
						TextInput:
							id: timeDue
							size_hint: .9, .5
							readonly: True
							
				AnchorLayout:
					anchor_y: 'center'
					size_hint: 1, .4
			
					Button:
						text: 'Done'
						size_hint: .5, .5
						on_press: root.addTask(title.text, body.text, timeDue.text)
