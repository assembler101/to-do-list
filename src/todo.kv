#:kivy 1.11.1

<BtnBehaviorLabel@ButtonBehavior+Label>:
	color: 0, 0, 0, 1

<AppLabel>:
	color: 0, 0, 0, 1

<TaskBG>:
	before: True
	Line:
		width: 2
		rectangle: self.x, self.y, self.width, self.height

<DisplayTasks>:
	tasksLayout: tasks

	canvas.before:
		Color:
			rgba: 1, 1, 1, 1
		Rectangle:
			size: self.size
	AppLabel:
		text: 'Tasks'
		pos_hint: {'y': .45}
	BoxLayout:
		orientation: 'vertical'

		AnchorLayout:
			anchor_x: 'right'
			anchor_y: 'top'
			size_hint: 1, .1
			padding: 0, 10, 10, 0

			BtnBehaviorLabel:
				text: 'New Task'
				size: self.texture_size
				size_hint: None, None
				on_release: root.manager.current = 'create_task'
		BoxLayout:
			id: tasks
			orientation: 'vertical'

<CreateTask>:
	timestampDue: timestampDue

	canvas.before:
		Color:
			rgba: 1, 1, 1, 1
		Rectangle:
			size: self.size
	AppLabel:
		text: 'Create Task'
		pos_hint: {'y': .45}
	BoxLayout:
		orientation: 'vertical'

		AnchorLayout:
			anchor_x: 'left'
			anchor_y: 'top'
			padding: 10, 10, 0, 0
			size_hint: 1, .05

			BtnBehaviorLabel:
				size: self.texture_size
				size_hint: None, None
				text: 'Cancel'
				on_release: root.manager.current = 'tasks_display'
		BoxLayout:
			orientation: 'horizontal'
			padding: 10, 0, 10, 0
			size_hint_y: .5

			BoxLayout:
				orientation: 'vertical'
				spacing: 10

				BoxLayout:
					orientation: 'vertical'
					size_hint_y: .25

					AppLabel:
						text: 'Title'
						size: self.texture_size
						size_hint: None, None
					TextInput:
						id: title
						hint_text: 'Required'
						multiline: False
						size_hint_x: .7
						size_hint_y: None
						height: 30
				BoxLayout:
					orientation: 'vertical'
					size_hint_y: .4

					AppLabel:
						text: 'Body'
						size: self.texture_size
						size_hint: None, None
					TextInput:
						id: body
						hint_text: 'Not Required'
						size_hint: .8, .3
				BoxLayout:
					orientation: 'horizontal'

					GridLayout:
						rows: 4
						cols: 2
						spacing: 3

						Button:
							text: '+5M'
							on_press: root.addMins(5)
						Button:
							text: '+10M'
							on_press: root.addMins(10)
						Button:
							text: '+1H'
							on_press: root.addHours(1)
						Button:
							text: '+1D'
							on_press: root.addDays(1)
						Button:
							text: '+7D'
							on_press: root.addDays(7)
						Button:
							text: 'Custom'
						Button:
							font_name: 'fonts/Segoe_UI_Symbol.ttf'
							font_size: 36
							text: 'â†º'
							on_press: root.clearDueTimestamp()
					AnchorLayout:
						anchor_x: 'center'
						anchor_y: 'top'

						BoxLayout:
							orientation: 'vertical'
							size_hint: .8, .4

							AppLabel:
								text: 'DD:HH:MM'
								font_size: timestampDue.height/2
							TextInput:
								id: timestampDue
								font_size: 30
								readonly: True
				AnchorLayout:
					anchor_y: 'center'
					size_hint: 1, .4
			
					Button:
						text: 'Done'
						size_hint: .5, .5
						on_release: root.addTask(title.text, body.text)
